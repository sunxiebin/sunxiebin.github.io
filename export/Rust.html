<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2024-09-02 Mon 09:25 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RUST-LANUAGE</title>
<meta name="author" content="sunxiebin" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="../org.css"/>

<script src="../org-info.js">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
// @license-end
</script>

<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
org_html_manager.set("TOC_DEPTH", "3");
org_html_manager.set("LINK_HOME", "");
org_html_manager.set("LINK_UP", "");
org_html_manager.set("LOCAL_TOC", "1");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "1");
org_html_manager.set("VIEW", "info");
org_html_manager.setup();  // activate after the parameters are set
// @license-end
</script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">RUST-LANUAGE</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org9028707">1. Rust language</a>
<ul>
<li><a href="#org2b22cb5">1.1. 1. example</a></li>
<li><a href="#org1178d50">1.2. 2. ownship</a>
<ul>
<li><a href="#orgf484787">1.2.1. image</a></li>
</ul>
</li>
<li><a href="#org2da2272">1.3. 3. refenrence and derefenrence</a>
<ul>
<li><a href="#org6597740">1.3.1. lifetime</a></li>
<li><a href="#org93baed0">1.3.2. smarts points</a></li>
</ul>
</li>
<li><a href="#org69baa97">1.4. 4. expression and statment</a>
<ul>
<li><a href="#orgf807e94">1.4.1. 4.1 expression</a></li>
</ul>
</li>
<li><a href="#org24cd211">1.5. 5. structure</a>
<ul>
<li><a href="#org319a567">1.5.1. three</a></li>
<li><a href="#orgb28313b">1.5.2. struct</a></li>
<li><a href="#org9cb372a">1.5.3. </a></li>
<li><a href="#org3c4f57c">1.5.4. abstracts</a></li>
<li><a href="#org233e23f">1.5.5. generic type</a></li>
<li><a href="#org61b64cd">1.5.6. singleton</a></li>
</ul>
</li>
<li><a href="#orgbe0b96b">1.6. 6. trait</a></li>
<li><a href="#orgbdfb48f">1.7. third party</a></li>
<li><a href="#org757859e">1.8. <span class="todo TODO">TODO</span> todo <span class="timestamp-wrapper"><span class="timestamp">&lt;2024-03-01 Fri&gt;</span></span></a></li>
<li><a href="#org95402f9">1.9. 7. functional and Closures</a>
<ul>
<li><a href="#org94d4f8c">1.9.1. 7.1 define</a></li>
<li><a href="#org060301b">1.9.2. 7.2 capture val</a></li>
<li><a href="#org681931a">1.9.3. 7.3 three kind of closures</a></li>
</ul>
</li>
<li><a href="#org0ab65d9">1.10. 8. Concurrency</a></li>
<li><a href="#org5d7dfb8">1.11. 9. collect</a>
<ul>
<li><a href="#org17a4356">1.11.1. 9.1 define</a></li>
<li><a href="#orgea7f995">1.11.2. iterate over the vaule in a vector</a></li>
<li><a href="#org827fafb">1.11.3. Box</a></li>
<li><a href="#orgf83cc16">1.11.4. ListNode</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org9028707" class="outline-2">
<h2 id="org9028707"><span class="section-number-2">1.</span> Rust language</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org2b22cb5" class="outline-3">
<h3 id="org2b22cb5"><span class="section-number-3">1.1.</span> 1. example</h3>
<div class="outline-text-3" id="text-1-1">
<p>
使用的插件是ob-rust,底层使用了rust-script命令。
</p>
<div class="org-src-container">
<pre class="src src-rust">
let mut v:Vec&lt;i32&gt;=Vec::new();
 v.push(10);
 let one:Option&lt;&amp;i32&gt;=v.get(0);
     match one {
     Some(x)=&gt;println!("result:{x}"),
         None  =&gt; println!("None"),
  }

</pre>
</div>

<pre class="example">
result:10
</pre>
</div>
</div>

<div id="outline-container-org1178d50" class="outline-3">
<h3 id="org1178d50"><span class="section-number-3">1.2.</span> 2. ownship</h3>
<div class="outline-text-3" id="text-1-2">
<p>
move
</p>

<div class="org-src-container">
<pre class="src src-rust">let  _s="hello,world";
let s="HELLO";
const _S1:&amp;str="369";
println!("{}",s);
</pre>
</div>

<p>
copy trait
</p>
</div>

<div id="outline-container-orgf484787" class="outline-4">
<h4 id="orgf484787"><span class="section-number-4">1.2.1.</span> image</h4>
<div class="outline-text-4" id="text-1-2-1">

<div id="org7c26481" class="figure">
<p><img src="file:///Users/sunxiebin/Project/sunxiebin.github.io/export/image/a.jpeg" alt="a_image">
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org2da2272" class="outline-3">
<h3 id="org2da2272"><span class="section-number-3">1.3.</span> 3. refenrence and derefenrence</h3>
<div class="outline-text-3" id="text-1-3">
<p>
<a id="org2b26633"></a>example
</p>
<div class="org-src-container">
<pre class="src src-rust">fn main() {
{    let x = 5;
    let y = &amp;x; //  操作符 ‘=’ 的意义，
    assert_eq!(5, x);
    assert_eq!(5, *y);
    println!("this is {}",y);
 }
 let list=vec![323,12231,434323,34534];
    let mut largest= &amp;list[0];
    for num in &amp;list {
        if *num &gt; *largest {largest=num;}}
    println!("{}",*largest);
}  
</pre>
</div>

<div class="org-src-container">
<pre class="src src-C">#include&lt;stdio.h&gt;  
  int main(){
    int x=5;
    int *y;
    y=&amp;x;
   printf("%p",y);
   return 0;
 }
</pre>
</div>
</div>

<div id="outline-container-org6597740" class="outline-4">
<h4 id="org6597740"><span class="section-number-4">1.3.1.</span> lifetime</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
借用的生命周期
借用是为了防止所有权的转移，借用的作用域和自身的属性相关，自身属性分为不可变和可变。在一个{}作用域中
存在“只能有一个可变引用，要么可以有多个不可变引用，但不能同时有可变和不可变引用”，如果两者在一个{}
同时存在，编译器不会通过，变相的显示引用作用域的缩短，这样做是为了避免数据竞争。
 lifttime is only in the complie period.
 every type in Rust has a lifetime
</p>
<div class="org-src-container">
<pre class="src src-rust">
  fn main(){

//      fn some&lt;'a,'b&gt; (x:&amp;'a str ,y:&amp;'b str )-&gt;&amp;'b str{
//		y
  //    }

    let mut x = 5; // 可变变量

    // 不可变借用
    let y = &amp;x;
    println!("不可变借用：{}", y);
    // 可变借用
    let z = &amp;mut x;
    *z += 1;
    println!("可变借用：{}", z);
   // println!("不可变借用：{}", y);
      let  y1=&amp;x;
            println!("不可变借用：y1={}", y1);

  }
</pre>
</div>
<p>
所有权的转移，还要分两种，一种是实现clone特征，一种没有实现的。没有实现就是移动。实现了就是复制。
</p>
<div class="org-src-container">
<pre class="src src-rust">fn main(){
    let x=String::from("hello,world");
    add(x);
    //let y=&amp;x;
   println!("{:p}",&amp;x);
}
fn add(x:String){
    println!("{:p}",&amp;x);
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org93baed0" class="outline-4">
<h4 id="org93baed0"><span class="section-number-4">1.3.2.</span> smarts points</h4>
</div>
</div>
<div id="outline-container-org69baa97" class="outline-3">
<h3 id="org69baa97"><span class="section-number-3">1.4.</span> 4. expression and statment</h3>
<div class="outline-text-3" id="text-1-4">
</div>
<div id="outline-container-orgf807e94" class="outline-4">
<h4 id="orgf807e94"><span class="section-number-4">1.4.1.</span> 4.1 expression</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
expression have a return value.Including operate 
</p>
</div>
<ol class="org-ol">
<li><a id="org4f77a3f"></a>enum<br>
<div class="outline-text-5" id="text-1-4-1-1">
<div class="org-src-container">
<pre class="src src-rust">enum Option&lt;T&gt; {
  Some(T),
  None,
}   
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org24cd211" class="outline-3">
<h3 id="org24cd211"><span class="section-number-3">1.5.</span> 5. structure</h3>
<div class="outline-text-3" id="text-1-5">
</div>
<div id="outline-container-org319a567" class="outline-4">
<h4 id="org319a567"><span class="section-number-4">1.5.1.</span> three</h4>
<div class="outline-text-4" id="text-1-5-1">
<ol class="org-ol">
<li>classic structs</li>
</ol>
<p>
结构体初始化，那么成员都要初始化
</p>
<div class="org-src-container">
<pre class="src src-rust">struct Point{
  x:f64,
  y:String,
  z:f64,
}
let s=String::from("hello");
let a=Point{
  x:0.23,
    y:s,
    z:1.563,
} ;
let b=Point{

    y:a.y,
    z:a.z,
};
print!("{}",a.x); 
</pre>
</div>

<ol class="org-ol">
<li><p>
(tuple  structs: similar to a tuple,but own signtures)
</p>
<div class="org-src-container">
<pre class="src src-rust">struct Color(i32,i32,...);
</pre>
</div></li>
<li>(unit structs:null structs no data)</li>
</ol>

<p>
impl 里面的函数称为关联函数   
</p>
</div>
</div>
<div id="outline-container-orgb28313b" class="outline-4">
<h4 id="orgb28313b"><span class="section-number-4">1.5.2.</span> struct</h4>
<div class="outline-text-4" id="text-1-5-2">
<p>
编译器会自动调用   引用和解引用
</p>
<div class="org-src-container">
<pre class="src src-rust">  struct Some{
    w:u32,
    h:u32,
  } // 定义数据
  impl Some{
   fn some(&amp;self)-&gt;u32{
   return  self.w*self.h;
  }
   fn new(w:u32,h:u32)-&gt;Self{
    Self{
        w,h
    }
   }
  }//定义方法
    fn main(){
    // let s=Some{ w:21, h:32, };// 
     let s=Some::new(22,32);//note that :: , namespaces
        println!("the area of the some is {} squre pixels ",s.some());//调用

     let s1=&amp;s;
println!("the area of the some is {} squre pixels ",s1.some());//调用

     }
</pre>
</div>
</div>
</div>

<div id="outline-container-org9cb372a" class="outline-4">
<h4 id="org9cb372a"><span class="section-number-4">1.5.3.</span> </h4>
<div class="outline-text-4" id="text-1-5-3">
<p>
考虑多struct的相互调用
</p>


<p>
struct A实例关联struct B 时 
</p>

<div class="org-src-container">
<pre class="src src-rust">#[warn(warnings)]
struct A{}
  impl A{
     fn a(c:&amp;B){

     }
  }
  struct B{}
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c4f57c" class="outline-4">
<h4 id="org3c4f57c"><span class="section-number-4">1.5.4.</span> abstracts</h4>
</div>
<div id="outline-container-org233e23f" class="outline-4">
<h4 id="org233e23f"><span class="section-number-4">1.5.5.</span> generic type</h4>
<div class="outline-text-4" id="text-1-5-5">
<p>
泛型
</p>

<p>
concrete type(具体类型/动态类型)
</p>

<p>
消除重复，函数重复，包括签名重复和内容重复。
类似C++的泛型
</p>

<p>
使用单态化不会影响性能。
</p>
</div>
</div>


<div id="outline-container-org61b64cd" class="outline-4">
<h4 id="org61b64cd"><span class="section-number-4">1.5.6.</span> singleton</h4>
<div class="outline-text-4" id="text-1-5-6">
<p>
单态化
</p>

<ol class="org-ol">
<li>其实就是把编译时，生成相应的重复代码。</li>
<li>这样坏处，自然带来编译后代码冗余。</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgbe0b96b" class="outline-3">
<h3 id="orgbe0b96b"><span class="section-number-3">1.6.</span> 6. trait</h3>
<div class="outline-text-3" id="text-1-6">
<p>
A type’s behavior consists of the methods we can call on that type. Different types share the same behavior if we can call
the same methods on all of those types. Trait definitions are a way to group method signatures together to define a set of
behaviors necessary to accomplish some purpose.
</p>

<p>
trait 是指特征。是指相同行为的抽象。
实现语法：
</p>
<pre class="example" id="org7e72515">
pub trait ${trait_name} {
   fn ${function_name}-&gt; style;
}
impl ... for .. #这个语法其实挺口语化的，为类型实现特征。
</pre>

<p>
define-&gt;impl-&gt;call
</p>
<div class="org-src-container">
<pre class="src src-rust">fn main(){
 let person_one=Person{name:"sunxiebin".to_string(),};
 let dog_one=Dog{name:"xiaohuang".to_string(),};
 person_one.run();
 dog_one.run();
}
pub trait Run{
   fn run(&amp;self);
}
pub struct Person{
 pub name:String,
}
impl Run for Person{
  fn run(&amp;self){
    println!("{} begin to run",self.name);
  }
}
pub struct Dog{
 pub name:String,
}
impl Run for Dog{
    fn run(&amp;self){
        println!("{} begin to run",self.name);
    }
}
</pre>
</div>


<p>
函数的重载
   明显特征的默认函数既然被重载了，推理出特征的实现的作用域已经拓展到新的作用域。
特征作为函数参数
    之前提到了特征是行为的抽象，使得行为名词化。
</p>



<p>
 生命周期
在C/C++语言，或者其他语言中，一个变量的生命周期，包括了作用域和存储期两个方面。
</p>
<ol class="org-ol">
<li>作用域：在程序文本中的可见区域。（为什么要有作用域呢？，这涉及到语言学方面。）在编译期。</li>
<li>存储期：在函数内的自动存储期、全局的静态存储期、动态存储期、线程存储期。在运行期。</li>
</ol>

<p>
变量在哪个作用域实例化，那么它的生命区间，就在哪个作用域。那么变量就拥有所有权。所有权只有借用或者转移。借用就是<a href="#org2b26633">引用</a>。    
生命周期就是解决悬空引用，什么是就是只有引用，没有实际的数据。就像一个悬空的针，为什么会导致悬空，就是因为rust，会在作用域结尾添加drop函数，
就是free函数。
</p>

<p>
借用检查器：
</p>


<p>
静态生命周期(static lifetime)：'static
</p>
</div>
</div>
<div id="outline-container-orgbdfb48f" class="outline-3">
<h3 id="orgbdfb48f"><span class="section-number-3">1.7.</span> third party</h3>
<div class="outline-text-3" id="text-1-7">
<p>
使用第三方包，使用参数flags，如下：
</p>

<div class="org-src-container">
<pre class="src src-rust">use rand::Rng;
 fn main(){
       let secret=rand::thread_rng().gen_range(1..=100);
     println!("the secret number is:{secret}");
 }
</pre>
</div>

<pre class="example">
the secret number is:28
</pre>
</div>
</div>

<div id="outline-container-org757859e" class="outline-3">
<h3 id="org757859e"><span class="section-number-3">1.8.</span> <span class="todo TODO">TODO</span> todo <span class="timestamp-wrapper"><span class="timestamp">&lt;2024-03-01 Fri&gt;</span></span></h3>
<div class="outline-text-3" id="text-1-8">
<p>
1.对比 C++和rust的多态
</p>
</div>
</div>

<div id="outline-container-org95402f9" class="outline-3">
<h3 id="org95402f9"><span class="section-number-3">1.9.</span> 7. functional and Closures</h3>
<div class="outline-text-3" id="text-1-9">
</div>
<div id="outline-container-org94d4f8c" class="outline-4">
<h4 id="org94d4f8c"><span class="section-number-4">1.9.1.</span> 7.1 define</h4>
<div class="outline-text-4" id="text-1-9-1">
<p>
Programming in a functional style often includes using functions as values by passing them in arguments, returning them from other
functions, assigning them to variables for later execution, and so forth.
lambada
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">x: style</td>
<td class="org-left">-&gt; return style{function body}</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-rust">let square = |x: i32| -&gt; i32 {x*x};
println!("y={}",square(3));

</pre>
</div>
</div>
</div>
<div id="outline-container-org060301b" class="outline-4">
<h4 id="org060301b"><span class="section-number-4">1.9.2.</span> 7.2 capture val</h4>
<div class="outline-text-4" id="text-1-9-2">
<div class="org-src-container">
<pre class="src src-rust">#[allow(warnings)]
  let mut z:i32=3;
    let y=|x:i32|-&gt;i32{x*z};
  //  let n= &amp;mut z;
  //  z=5;
  println!("y={}",y(2));
  //  println!("n={}",*n+1);
</pre>
</div>
</div>
</div>
<div id="outline-container-org681931a" class="outline-4">
<h4 id="org681931a"><span class="section-number-4">1.9.3.</span> 7.3 three kind of closures</h4>
<div class="outline-text-4" id="text-1-9-3">
<p>
  Fnmut\Fnonce\Fn
It's time to use three kinds of closure with liftime and ownship
#+BEING<sub>SRC</sub> rust
trait callback()
#+END<sub>SRC</sub>
</p>
</div>
</div>
</div>
<div id="outline-container-org0ab65d9" class="outline-3">
<h3 id="org0ab65d9"><span class="section-number-3">1.10.</span> 8. Concurrency</h3>
<div class="outline-text-3" id="text-1-10">
<div class="org-src-container">
<pre class="src src-rust">
</pre>
</div>
</div>
</div>

<div id="outline-container-org5d7dfb8" class="outline-3">
<h3 id="org5d7dfb8"><span class="section-number-3">1.11.</span> 9. collect</h3>
<div class="outline-text-3" id="text-1-11">
</div>
<div id="outline-container-org17a4356" class="outline-4">
<h4 id="org17a4356"><span class="section-number-4">1.11.1.</span> 9.1 define</h4>
<div class="outline-text-4" id="text-1-11-1">
<ol class="org-ol">
<li>collection is a style of data structure.
array and tuple built-in.</li>
<li>collection point to is stored on the heap.</li>
<li>three major collectons: string vector hashmap.</li>
</ol>

<div class="org-src-container">
<pre class="src src-rust">    let mut v:Vec&lt;i32&gt; =Vec::new();
    v.push(5);
    v.push(6);
    let second:i32=v[1];
    let second_option:Option&lt;&amp;i32&gt; =v.get(2);
    match  second_option {
        Some(second_option) =&gt; println!("{second_option}"),
        None =&gt; println!("None"),
    }
    println!("{}",second);
   let v1=vec![1,2,3,4,5];
let third:i32=v1[1];
println!("{}",third);
</pre>
</div>
</div>
</div>

<div id="outline-container-orgea7f995" class="outline-4">
<h4 id="orgea7f995"><span class="section-number-4">1.11.2.</span> iterate over the vaule in a vector</h4>
<div class="outline-text-4" id="text-1-11-2">
<div class="org-src-container">
<pre class="src src-rust">let v= vec![1,2,3];
for i in &amp;v { println!("{i}")};

//change to values
let mut v1=vec![1,2,3];

for i in &amp;mut v1{
    *i+=1;
    println!("{i}");
}

for i in v.iter(){
  println!("iter:{}",i);
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org827fafb" class="outline-4">
<h4 id="org827fafb"><span class="section-number-4">1.11.3.</span> Box</h4>
<div class="outline-text-4" id="text-1-11-3">
<div class="org-src-container">
<pre class="src src-rust"> let v1:Option&lt;Box&lt;i32&gt;&gt;=Some(Box::new(5));
match v1  {
    Some(v1)=&gt; println!("{v1}"),
    None=&gt; println!("None"),
}
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf83cc16" class="outline-4">
<h4 id="orgf83cc16"><span class="section-number-4">1.11.4.</span> ListNode</h4>
<div class="outline-text-4" id="text-1-11-4">
<div class="org-src-container">
<pre class="src src-rust"> let v1:Option&lt;Box&lt;&gt;&gt;=Some(Box::new(5));
match v1  {
    Some(v1)=&gt; println!("{v1}"),
    None=&gt; println!("None"),
}  
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: sunxiebin</p>
<p class="date">Created: 2024-09-02 Mon 09:25</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
